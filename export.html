<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
    <!--<script>
        $(function () {
            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');
            var video = document.getElementById('video');

            video.addEventListener('play', function () {
                var $this = this; //cache
                (function loop() {
                    if (!$this.paused && !$this.ended) {
                        ctx.drawImage($this, 0, 0);
                        setTimeout(loop, 1000 / 30); // drawing at 30fps
                    }
                })();
            }, 0);
        });
    </script>-->

   <!--<script>
       function frameConverter(video,canvas) {

           // Set up our frame converter
           this.video = video;
           this.viewport = canvas.getContext("2d");
           this.width = canvas.width;
           this.height = canvas.height;
           // Create the frame-buffer canvas
           this.framebuffer = document.createElement("canvas");
           this.framebuffer.width = this.width;
           this.framebuffer.height = this.height;
           this.ctx = this.framebuffer.getContext("2d");
           // Default video effect is blur
           this.effect = JSManipulate.blur;
           // This variable used to pass ourself to event call-backs
           var self = this;
           // Start rendering when the video is playing
           this.video.addEventListener("play", function() {
               self.render();
           }, false);
      
           // Change the image effect to be applied  
           this.setEffect = function(effect){
               if(effect in JSManipulate){
                   this.effect = JSManipulate[effect];
               }
           }

           // Rendering call-back
           this.render = function() {
               if (this.video.paused || this.video.ended) {
                   return;
               }
               this.renderFrame();
               var self = this;
               // Render every 10 ms
               setTimeout(function () {
                   self.render();
               }, 10);
           };

           // Compute and display the next frame 
           this.renderFrame = function() {
               // Acquire a video frame from the video element
               this.ctx.drawImage(this.video, 0, 0, this.video.videoWidth,
                           this.video.videoHeight,0,0,this.width, this.height);
               var data = this.ctx.getImageData(0, 0, this.width, this.height);
               // Apply image effect
               this.effect.filter(data,this.effect.defaultValues);
               // Render to viewport
               this.viewport.putImageData(data, 0, 0);
               return;
           };
       };

       // Initialization code
       video = document.getElementById("video");
       canvas = document.getElementById("canvas");
       fc = new frameConverter(video,canvas);
       // Change the image effect applied to the video
       fc.setEffect('edge detection');
   </script>-->
    <script src="prefixfree.min.js" type="text/javascript"></script>
    <script src="frameGrabber.js" type="text/javascript"></script>
    <script src="jsmanipulate.min.js" type="text/javascript"></script>
    <script src="video-effects-demo.js" type="text/javascript"></script>
    <style>
        .bulr {
            -webkit-filter: blur(3px);
            filter: blur(3px);
            -moz-filter: blur(3px);
            -o-filter: blur(3px);
        }
    </style>

</head>
<body>
    <div id="theater">
        <video id="video" src="http://upload.wikimedia.org/wikipedia/commons/7/79/Big_Buck_Bunny_small.ogv" controls="false"></video>
        <div class="bulr">
            <canvas id="canvas"></canvas>
        </div>
        
        <label>
            <br />Try to play me :)
        </label>
        <br />
    </div>
</body>
</html>